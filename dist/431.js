"use strict";(globalThis.webpackChunkblock_revealer=globalThis.webpackChunkblock_revealer||[]).push([[431,264,643],{87:(t,e,o)=>{o.d(e,{QZ:()=>m,vP:()=>f});var r=Symbol.for("preact-signals");function i(){if(l>1)l--;else{for(var t,e=!1;void 0!==s;){var o=s;for(s=void 0,a++;void 0!==o;){var r=o.o;if(o.o=void 0,o.f&=-3,!(8&o.f)&&h(o))try{o.c()}catch(o){e||(t=o,e=!0)}o=r}}if(a=0,l--,e)throw t}}var n=void 0,s=void 0,l=0,a=0,c=0;function u(t){if(void 0!==n){var e=t.n;if(void 0===e||e.t!==n)return e={i:0,S:t,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:e},void 0!==n.s&&(n.s.n=e),n.s=e,t.n=e,32&n.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=n.s,e.n=void 0,n.s.n=e,n.s=e),e}}function v(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function f(t){return new v(t)}function h(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function d(t){for(var e=t.s;void 0!==e;e=e.n){var o=e.S.n;if(void 0!==o&&(e.r=o),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function p(t){for(var e=t.s,o=void 0;void 0!==e;){var r=e.p;-1===e.i?(e.S.U(e),void 0!==r&&(r.n=e.n),void 0!==e.n&&(e.n.p=r)):o=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=r}t.s=o}function b(t){v.call(this,void 0),this.x=t,this.s=void 0,this.g=c-1,this.f=4}function y(t){var e=t.u;if(t.u=void 0,"function"==typeof e){l++;var o=n;n=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,w(t),e}finally{n=o,i()}}}function w(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,y(t)}function g(t){if(n!==this)throw new Error("Out-of-order effect");p(this),n=t,this.f&=-2,8&this.f&&w(this),i()}function S(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function m(t){var e=new S(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}v.prototype.brand=r,v.prototype.h=function(){return!0},v.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},v.prototype.U=function(t){if(void 0!==this.t){var e=t.e,o=t.x;void 0!==e&&(e.x=o,t.e=void 0),void 0!==o&&(o.e=e,t.x=void 0),t===this.t&&(this.t=o)}},v.prototype.subscribe=function(t){var e=this;return m((function(){var o=e.value,r=n;n=void 0;try{t(o)}finally{n=r}}))},v.prototype.valueOf=function(){return this.value},v.prototype.toString=function(){return this.value+""},v.prototype.toJSON=function(){return this.value},v.prototype.peek=function(){var t=n;n=void 0;try{return this.value}finally{n=t}},Object.defineProperty(v.prototype,"value",{get:function(){var t=u(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(a>100)throw new Error("Cycle detected");this.v=t,this.i++,c++,l++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{i()}}}}),(b.prototype=new v).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===c)return!0;if(this.g=c,this.f|=1,this.i>0&&!h(this))return this.f&=-2,!0;var t=n;try{d(this),n=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return n=t,p(this),this.f&=-2,!0},b.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}v.prototype.S.call(this,t)},b.prototype.U=function(t){if(void 0!==this.t&&(v.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},b.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(b.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=u(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),S.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},S.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,y(this),d(this),l++;var t=n;return n=this,g.bind(this,t)},S.prototype.N=function(){2&this.f||(this.f|=2,this.o=s,s=this)},S.prototype.d=function(){this.f|=8,1&this.f||w(this)};var _=o(609),k=o(888);o(848),o(446),new Map;var E,C=Symbol.for("react.element"),R=function(){},x=Symbol.dispose||Symbol.for("Symbol.dispose");function N(t,e){var o=e.effect.S();return E=e,O.bind(e,t,o)}function O(t,e){e(),E=t}({u:0,effect:{s:void 0,c:function(){},S:function(){return R},d:function(){}},subscribe:function(){return R},getSnapshot:function(){return 0},S:function(){},f:function(){}})[x]=function(){};var P,G=Promise.prototype.then.bind(Promise.resolve());Object.defineProperties(v.prototype,{$$typeof:{configurable:!0,value:C},type:{configurable:!0,value:function(t){var e=t.data,o=function(t){void 0===t&&(t=0),P||(P=G((function(){var t;P=void 0,null==(t=E)||t.f()})));var e=(0,_.useRef)();null==e.current&&(e.current=function(t){var e,o,r,i,n=0,s=m((function(){o=this}));return o.c=function(){n=n+1|0,i&&i()},(e={u:t,effect:o,subscribe:function(t){return i=t,function(){n=n+1|0,i=void 0,s()}},getSnapshot:function(){return n},S:function(){if(null!=E){var t=E.u,e=this.u;0==t&&0==e||0==t&&1==e?(E.f(),r=N(void 0,this)):1==t&&0==e||2==t&&0==e||(r=N(E,this))}else r=N(void 0,this)},f:function(){null==r||r(),r=void 0}})[x]=function(){this.f()},e}(t));var o=e.current;return(0,k.useSyncExternalStore)(o.subscribe,o.getSnapshot,o.getSnapshot),o.S(),o}(1);try{return e.value}finally{o.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}})},431:(t,e,o)=>{o.r(e),o.d(e,{default:()=>u});var r=o(609),i=o(723),n=o(196),s=o(643),l=o(87),a=o(264);function c(){const t=new n.A,e=new a.default,[o,c]=(0,r.useState)(!1),[u,v]=(0,r.useState)("blue"),[f,h]=(0,r.useState)(!1);function d(o){c(o),h(o),t.setReveal(o),e.setReveal(o),s.GlobalSignalReveal.value=o}function p(o){v(o),t.setColor(o),e.setColor(o),s.GlobalSignalColor.value=o}function b(t){t.preventDefault(),p(t.target.dataset.color)}(0,r.useEffect)((()=>{d(s.GlobalSignalColor.value),p(s.GlobalSignalColor.value)}),[]),(0,r.useEffect)((()=>{d(o),s.GlobalSignalReveal.value=o}),[o]),(0,r.useEffect)((()=>{p(u),s.GlobalSignalColor.value=u}),[u]),(0,l.QZ)((()=>{s.GlobalSignalColor.value!==u&&p(s.GlobalSignalColor.value),s.GlobalSignalReveal.value!==o&&d(s.GlobalSignalReveal.value)}));let y=o?"wp-block-revealer-options__toggle option-active":"wp-block-revealer-options__toggle";return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("form",{className:"wp-block-revealer-options__form"},(0,r.createElement)("div",{className:y},(0,r.createElement)("input",{type:"checkbox",id:"wpbkr-toogle-reveal",name:"wpbkr-toogle",defaultChecked:f,onChange:function(t){d(t.target.checked)}}),(0,r.createElement)("label",{for:"wpbkr-toogle-reveal"},(0,r.createElement)("span",{className:"screen-reader-text"},(0,i.__)("Reveal","wp-block-revealer"))),(0,r.createElement)("div",{className:"wp-block-revealer-options__color-swatch"},(0,r.createElement)("button",{"data-color":"blue",onClick:b,className:"wp-block-revealer-options__color wp-block-revealer-options__color--blue"},(0,r.createElement)("span",{className:"screen-reader-text"},(0,i.__)("Blue","wp-block-revealer"))),(0,r.createElement)("button",{"data-color":"white",onClick:b,className:"wp-block-revealer-options__color wp-block-revealer-options__color--white"},(0,r.createElement)("span",{className:"screen-reader-text"},(0,i.__)("White","wp-block-revealer"))),(0,r.createElement)("button",{"data-color":"black",onClick:b,className:"wp-block-revealer-options__color wp-block-revealer-options__color--black"},(0,r.createElement)("span",{className:"screen-reader-text"},(0,i.__)("Black","wp-block-revealer")))),(0,r.createElement)("div",{className:"wp-block-revealer-options__indicator"}))))}function u(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"block-revealer-app"},(0,r.createElement)(c,null)))}},264:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});class r{constructor(){this.colors={blue:"#1989c1",white:"#b1b1b1",black:"#444343"}}findColor(t){let e=this.colors;return Object.keys(e).forEach((o=>{if(t===e[o])return o})),""}}var i=o(196);class n{constructor(){}init({reveal:t=!1,color:e="blue"}){this.setPluginClass("wp-block-revealer"),this.setColor(e),this.setReveal(t),this.bodyNodeObserver(),this.storage=new i.A,this.colors=new r}bodyNodeObserver(){let t=this.domBody();t&&new MutationObserver(((t,e)=>{for(let e of t){let t=getComputedStyle(e.target).getPropertyValue("--wpbr--editor--shadow--color"),o=this.colors.findColor(t);"attributes"===e.type&&"class"===e.attributeName&&(o!==this.storage.getColor()&&this.setColor(this.storage.getColor()),!0!==this.storage.getReveal()||e.target.classList.contains("wp-block-revealer--reveal")||this.setReveal(this.storage.getReveal()),!1===this.storage.getReveal()&&e.target.classList.contains("wp-block-revealer--reveal")&&this.setReveal(this.storage.getReveal()))}})).observe(t,{attributes:!0,childList:!0,subtree:!0})}getBody(){return this.domBody()}isPostEditorIframe(){return!document.querySelector(".block-editor-writing-flow")}domBody(){let t=null,e=this.isPostEditorIframe()?document.querySelector('iframe[name="editor-canvas"]'):document.querySelector(".block-editor-writing-flow");return e&&this.isPostEditorIframe()&&(t=e.contentWindow.document.body),e&&!this.isPostEditorIframe()&&(t=document.querySelector("body")),t}setPluginClass(t){let e=this.domBody();e&&e.classList.add(t)}setColor(t){let e=this.domBody();e.style.setProperty("--wpbr--editor--shadow--color","var( --wpbr--color--"+t+" )"),e.style.setProperty("--wpbr--editor--shadow--color-hover","var( --wpbr--color--"+t+"-hover )")}setReveal(t){let e=this.domBody();t?e.classList.add("wp-block-revealer--reveal"):e.classList.remove("wp-block-revealer--reveal")}}},643:(t,e,o)=>{o.d(e,{GlobalSignalColor:()=>s,GlobalSignalReveal:()=>n});var r=o(87);const i=new(o(196).A),n=(0,r.vP)(i.getReveal()),s=(0,r.vP)(i.getColor())},196:(t,e,o)=>{o.d(e,{A:()=>r});class r{constructor(){}getColor(){return window.localStorage.getItem("wpbr_options__color")}getReveal(){return"true"===window.localStorage.getItem("wpbr_options__reveal")}setColor(t){window.localStorage.setItem("wpbr_options__color",t)}setReveal(t){let e=!0===t?"true":"false";window.localStorage.setItem("wpbr_options__reveal",e)}}},286:(t,e)=>{Symbol.for("react.fragment")},20:(t,e,o)=>{var r=o(609);Symbol.for("react.element"),Symbol.for("react.fragment"),Object.prototype.hasOwnProperty,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},446:(t,e,o)=>{o(286)},848:(t,e,o)=>{o(20)},63:(t,e,o)=>{var r=o(609),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},n=r.useState,s=r.useEffect,l=r.useLayoutEffect,a=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!i(t,o)}catch(t){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var o=e(),r=n({inst:{value:o,getSnapshot:e}}),i=r[0].inst,u=r[1];return l((function(){i.value=o,i.getSnapshot=e,c(i)&&u({inst:i})}),[t,o,e]),s((function(){return c(i)&&u({inst:i}),t((function(){c(i)&&u({inst:i})}))}),[t]),a(o),o};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},888:(t,e,o)=>{t.exports=o(63)}}]);