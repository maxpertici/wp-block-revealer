{"version":3,"file":"src_js_App_js.js","mappings":"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","sources":["webpack://block-revealer/./src/js/App.js","webpack://block-revealer/./src/js/Button.js","webpack://block-revealer/./src/js/Colors.js","webpack://block-revealer/./src/js/Editor.js","webpack://block-revealer/./src/js/GlobalSignal.js","webpack://block-revealer/./src/js/LocalStorage.js"],"sourcesContent":["\n\nimport Button from './Button.js';\n\n\nexport default function App() {\n\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"block-revealer-app\">\n\t\t\t\t<Button />\n\t\t\t</div>\n\t\t</>\n\t)\n}","\nimport { __ } from '@wordpress/i18n';\n\nimport {useEffect, useState} from 'react';\n\nimport LocalStorage from \"./LocalStorage.js\";\n\nimport { GlobalSignalReveal, GlobalSignalColor } from \"./GlobalSignal.js\";\n\nimport { effect } from \"@preact/signals-react\";\n\nimport Editor from \"./Editor.js\";\n\nexport default function Button() {\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// storage\n\tconst storage = new LocalStorage();\n\tconst editor = new Editor();\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// states\n\tconst [ active, setActive ] = useState(false );\n\tconst [ color, setColor ] = useState('blue' );\n\tconst [checked, setChecked] = useState(false);\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// setter\n\tfunction setButtonReveal( value ) {\n\t\tsetActive( value );\n\t\tsetChecked( value );\n\t\tstorage.setReveal( value );\n\t\teditor.setReveal( value );\n\t\tGlobalSignalReveal.value = value ;\n\t}\n\n\tfunction setButtonColor( value ) {\n\t\tsetColor( value );\n\t\tstorage.setColor(value);\n\t\teditor.setColor(value);\n\t\tGlobalSignalColor.value = value ;\n\t}\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// handles\n\tfunction handleActiveChange(e){\n\t\t// e.preventDefault();\n\t\tsetButtonReveal( e.target.checked )\n\t\t// GlobalSignalColor.value = e.target.checked;\n\n\t}\n\n\tfunction handleColorChange(e) {\n\t\te.preventDefault();\n\t\tsetButtonColor( e.target.dataset.color );\n\t\t// GlobalSignalColor.value = e.target.dataset.color;\n\t}\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// Effects\n\n\t// on mount\n\tuseEffect(() => {\n\t\tsetButtonReveal( GlobalSignalColor.value );\n\t\tsetButtonColor( GlobalSignalColor.value );\n\t}, []);\n\n\n\t// on state update\n\tuseEffect(() => {\n\t\tsetButtonReveal( active );\n\t\tGlobalSignalReveal.value = active ;\n\t}, [ active ]);\n\n\t// on state update\n\tuseEffect(() => {\n\t\tsetButtonColor( color );\n\t\tGlobalSignalColor.value = color ;\n\t}, [ color ]);\n\n\n\t// on signal update\n\teffect(() => {\n\t\tif( GlobalSignalColor.value !== color ) {\n\t\t\tsetButtonColor( GlobalSignalColor.value );\n\t\t}\n\t\tif( GlobalSignalReveal.value !== active ) {\n\t\t\tsetButtonReveal( GlobalSignalReveal.value );\n\t\t}\n\t});\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// markup\n\tlet toggleClass = active ? 'wp-block-revealer-options__toggle option-active' : 'wp-block-revealer-options__toggle';\n\n\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t// Return\n\n\treturn (\n\n\t\t<>\n\t\t<form className=\"wp-block-revealer-options__form\">\n\n\t\t\t<div className={toggleClass}>\n\n\t\t\t\t<input type=\"checkbox\" id=\"wpbkr-toogle-reveal\" name=\"wpbkr-toogle\" defaultChecked={checked} onChange={ handleActiveChange } />\n\n\t\t\t\t<label for=\"wpbkr-toogle-reveal\">\n\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t{ __('Reveal', 'wp-block-revealer') }\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\n\t\t\t\t<div className=\"wp-block-revealer-options__color-swatch\">\n\n\t\t\t\t\t<button data-color=\"blue\"\n\t\t\t\t\t\t\tonClick={ handleColorChange }\n\t\t\t\t\t\t\tclassName=\"wp-block-revealer-options__color wp-block-revealer-options__color--blue\">\n\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t{ __('Blue', 'wp-block-revealer') }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button data-color=\"white\"\n\t\t\t\t\t\t\tonClick={ handleColorChange }\n\t\t\t\t\t\t\tclassName=\"wp-block-revealer-options__color wp-block-revealer-options__color--white\">\n\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t{ __('White', 'wp-block-revealer') }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button data-color=\"black\"\n\t\t\t\t\t\t\tonClick={ handleColorChange }\n\t\t\t\t\t\t\tclassName=\"wp-block-revealer-options__color wp-block-revealer-options__color--black\">\n\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t{ __('Black', 'wp-block-revealer') }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"wp-block-revealer-options__indicator\"></div>\n\n\t\t\t</div>\n\n\t\t</form>\n\t\t</>\n\t)\n}","\nexport default class Colors {\n\n\tconstructor() {\n\n\t\tthis.colors = {\n\t\t\t\"blue\" : \"#1989c1\",\n\t\t\t\"white\" : \"#b1b1b1\",\n\t\t\t\"black\" : \"#444343\"\n\t\t}\n\t}\n\n\n\tfindColor( hex ){\n\n\n\t\tlet colors = this.colors ;\n\t\tObject.keys( colors ).forEach(key=>{\n\t\t\tif( hex === colors[key] ){ return key ; }\n\t\t})\n\n\t\treturn '' ;\n\n\t}\n\n}","\nimport Colors from \"./Colors.js\";\n\nimport LocalStorage from \"./LocalStorage.js\";\n\nexport default class Editor {\n\tconstructor(){}\n\n\tinit( { reveal = false, color= 'blue' } ){\n\t\tthis.setPluginClass('wp-block-revealer');\n\t\tthis.setColor( color );\n\t\tthis.setReveal( reveal );\n\t\tthis.bodyNodeObserver();\n\t\tthis.storage = new LocalStorage();\n\t\tthis.colors = new Colors();\n\t}\n\n\tbodyNodeObserver(){\n\t\tlet body = this.domBody();\n\n\t\tif( body ){\n\t\t\tlet observer = new MutationObserver( (mutationsList, observer) => {\n\n\t\t\t\tfor( let mutation of mutationsList ){\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Compare class with storage values\n\t\t\t\t\t */\n\n\t\t\t\t\tlet styles = getComputedStyle(mutation.target);\n\t\t\t\t\tlet color = styles.getPropertyValue('--wpbr--editor--shadow--color');\n\t\t\t\t\tlet colore_name = this.colors.findColor( color ) ;\n\n\t\t\t\t\tif( mutation.type === 'attributes' && mutation.attributeName === 'class' ){\n\n\t\t\t\t\t\t// Color\n\t\t\t\t\t\tif( colore_name !== this.storage.getColor() ){\n\t\t\t\t\t\t\tthis.setColor( this.storage.getColor() );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Reveal\n\t\t\t\t\t\t// mutation.target.classList.add('wp-block-revealer');\n\n\t\t\t\t\t\tif( true === this.storage.getReveal() && ! mutation.target.classList.contains('wp-block-revealer--reveal') ){\n\t\t\t\t\t\t\tthis.setReveal( this.storage.getReveal() );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( false === this.storage.getReveal() && mutation.target.classList.contains('wp-block-revealer--reveal') ){\n\t\t\t\t\t\t\tthis.setReveal( this.storage.getReveal() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tobserver.observe(body, { attributes: true, childList: true, subtree: true });\n\t\t}\n\n\t}\n\n\tgetBody(){\n\t\treturn this.domBody();\n\t}\n\n\tisPostEditorIframe(){\n\t\treturn document.querySelector('.block-editor-writing-flow') ? false : true ;\n\t}\n\n\tdomBody(){\n\n\t\tlet body= null ;\n\t\tlet node = this.isPostEditorIframe() ? document.querySelector('iframe[name=\"editor-canvas\"]')  :  document.querySelector('.block-editor-writing-flow') ;\n\n\t\tif( node && this.isPostEditorIframe() ){\n\t\t\tbody = node.contentWindow.document.body ;\n\t\t}\n\n\t\tif( node && ! this.isPostEditorIframe() ){\n\t\t\tbody = document.querySelector('body') ;\n\t\t}\n\n\t\treturn body ;\n\t}\n\n\tsetPluginClass( className ){\n\n\t\tlet body = this.domBody();\n\n\t\tif( body ){\n\t\t\tbody.classList.add( className );\n\t\t}\n\t}\n\n\tsetColor( color ){\n\n\t\tlet body = this.domBody();\n\n\t\tbody.style.setProperty('--wpbr--editor--shadow--color', 'var( --wpbr--color--'+color+' )' );\n\t\tbody.style.setProperty('--wpbr--editor--shadow--color-hover', 'var( --wpbr--color--'+color+'-hover )' );\n\t}\n\n\tsetReveal( reveal ){\n\n\t\tlet body = this.domBody();\n\n\t\tif( reveal ){\n\t\t\tbody.classList.add('wp-block-revealer--reveal');\n\t\t}else{\n\t\t\tbody.classList.remove('wp-block-revealer--reveal');\n\t\t}\n\t}\n\n\n\n}","\nimport { signal } from \"@preact/signals-react\";\n\nimport LocalStorage from \"./LocalStorage.js\";\n\nconst storage = new LocalStorage();\n\n\nconst GlobalSignalReveal = signal(storage.getReveal() ) ;\nconst GlobalSignalColor = signal(storage.getColor() ) ;\n\nexport { GlobalSignalReveal, GlobalSignalColor }","\nexport default class LocalStorage {\n\n\tconstructor(){}\n\n\tgetColor(){\n\t\treturn window.localStorage.getItem( 'wpbr_options__color' );\n\t}\n\n\tgetReveal(){\n\t\treturn window.localStorage.getItem( 'wpbr_options__reveal' ) === 'true' ? true : false ;\n\t}\n\n\tsetColor( color ){\n\t\t// console.log( 'setColor', color );\n\t\twindow.localStorage.setItem( 'wpbr_options__color', color );\n\t}\n\n\n\tsetReveal( reveal ){\n\n\t\tlet revealValue = reveal === true ? 'true' : 'false' ;\n\t\twindow.localStorage.setItem( 'wpbr_options__reveal', revealValue );\n\t}\n}"],"names":["Button","App","createElement","Fragment","className","__","useEffect","useState","LocalStorage","GlobalSignalReveal","GlobalSignalColor","effect","Editor","storage","editor","active","setActive","color","setColor","checked","setChecked","setButtonReveal","value","setReveal","setButtonColor","handleActiveChange","e","target","handleColorChange","preventDefault","dataset","toggleClass","type","id","name","defaultChecked","onChange","for","onClick","Colors","constructor","colors","findColor","hex","Object","keys","forEach","key","init","reveal","setPluginClass","bodyNodeObserver","body","domBody","observer","MutationObserver","mutationsList","mutation","styles","getComputedStyle","getPropertyValue","colore_name","attributeName","getColor","getReveal","classList","contains","observe","attributes","childList","subtree","getBody","isPostEditorIframe","document","querySelector","node","contentWindow","add","style","setProperty","remove","signal","window","localStorage","getItem","setItem","revealValue"],"sourceRoot":""}